<!DOCTYPE html>
<html prefix="
        og: http://ogp.me/ns# article: http://ogp.me/ns/article#
    " vocab="http://ogp.me/ns" lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="mechanics and the mechanics of coding">
<meta name="viewport" content="width=device-width">
<title>John T. Foster (old posts, page 1) | John T. Foster</title>
<link href="https://fonts.googleapis.com/css?family=Bitter:400,400i,700" rel="stylesheet" type="text/css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
<link href="assets/css/baguetteBox.min.css" rel="stylesheet" type="text/css">
<link href="assets/css/rst_base.css" rel="stylesheet" type="text/css">
<link href="assets/css/nikola_rst.css" rel="stylesheet" type="text/css">
<link href="assets/css/code.css" rel="stylesheet" type="text/css">
<link href="assets/css/theme.css" rel="stylesheet" type="text/css">
<link href="assets/css/ipython.min.css" rel="stylesheet" type="text/css">
<link href="assets/css/nikola_ipython.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" hreflang="en" href="rss.xml">
<link rel="canonical" href="https://johnfoster.pge.utexas.edu/blog/index-1.html">
<link rel="prev" href="." type="text/html">
<!--[if lt IE 9]><script src="assets/js/html5shiv-printshiv.min.js"></script><![endif]-->
</head>
<body>
    <a href="#page-content" class="sr-only sr-only-focusable">Skip to main content</a>
    
    <section class="social"><ul>
<li><a href="index.html" title="Home"><i class="fa fa-home"></i></a></li>
            <li><a href="http://johnfoster.pge.utexas.edu" title="Professional Website"><i class="fa fa-user"></i></a></li>
            <li><a href="https://github.com/johntfoster" title="My Github"><i class="fab fa-github"></i></a></li>
            <li><a href="https://twitter.com/johntfoster" title="My Twitter"><i class="fab fa-twitter"></i></a></li>
            <li><a href="archive.html" title="Archives"><i class="fa fa-folder-open"></i></a></li>
            <li><a href="categories/index.html" title="Tags"><i class="fa fa-tags"></i></a></li>
            <li><a href="rss.xml" title="RSS"><i class="fa fa-rss"></i></a></li>
    
    

        </ul></section><section class="page-content"><div class="content" rel="main">
    
    
<div class="postindex">
    <article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/pythonnumpy-implementation-of-bspline-basis-functions/" class="u-url">Python/Numpy implementation of Bspline basis functions</a></h1>
        <div class="metadata">
            <p class="dateline"><a href="posts/pythonnumpy-implementation-of-bspline-basis-functions/" rel="bookmark"><i class="fa fa-clock"></i> <time class="published dt-published" datetime="2015-05-27T08:08:17-05:00" title="2015-05-27 08:08">2015-05-27 08:08</time></a></p>
            <p class="byline author vcard"> <i class="fa fa-user"></i> <span class="byline-name fn" itemprop="author">
                John T. Foster
            </span></p>
                <p class="commentline"><i class="fa fa-comment"></i>         <a href="posts/pythonnumpy-implementation-of-bspline-basis-functions/#disqus_thread" data-disqus-identifier="cache/posts/pythonnumpy-implementation-of-bspline-basis-functions.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>I was recently helping a student with some preliminary concepts in isogemetric analysis (IGA) and after taking a look at his pure Python implementation of the Cox - de Boor algorithm for computing B-Spline basis functions, I decided to look around for a Numpy implementation that could possibly be a little faster.  While I found a few <a href="https://github.com/scipy/scipy/blob/v0.15.1/scipy/signal/bsplines.py#L122">B-spline implementations</a> in Python, I thought I might be able to sqeeze out a little more performance through <a href="http://en.wikipedia.org/wiki/Array_programming">vectorization</a> and <a href="http://en.wikipedia.org/wiki/Memoization">memoization</a> while maintaining readablity of the code.  I think I have something that accomplishes that, in the context of how basis functions are needed and used in IGA.  The main portion of the code is here:</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<script src="http://gist-it.sudarmuthu.com/https://github.com/johntfoster/bspline/blob/master/bspline.py?slice=47:107&amp;footer=minimal"></script>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The full repository can be found/forked here: <a href="https://github.com/johntfoster/bspline">johntfoster/bspline</a>.</p>
<p>An example use case is shown below.  This reproduces Fig. 2.6 in <a href="http://www.amazon.com/Isogeometric-Analysis-Toward-Integration-CAD/dp/0470748737/ref=sr_1_1?ie=UTF8&amp;qid=1432735651&amp;sr=8-1&amp;keywords=isogeometric+analysis+toward+integration+of+cad+and+fea">Isogeometric Analysis: Towards the integration of CAD and FEA</a> by Contrell, Hughes, and Bazilevs.  With <a href="https://github.com/johntfoster/bspline/blob/master/bspline.py">bspline.py</a> in the working directory:</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">InÂ [1]:</div>
<div class="inner_cell">
<div class="input_area">
<div class="highlight hl-ipython2"><pre><span></span><span class="kn">from</span> <span class="nn">bspline</span> <span class="kn">import</span> <span class="n">Bspline</span>

<span class="n">knot_vector</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">]</span>
<span class="n">basis</span> <span class="o">=</span> <span class="n">Bspline</span><span class="p">(</span><span class="n">knot_vector</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>

<span class="o">%</span><span class="k">matplotlib</span> inline
<span class="n">basis</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt"></div>
<div class="output_png output_subarea">
<img alt="No description has been provided for this image" src="data:image/png;base64,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">
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>As mentioned above the recursive function that computes the basis has been memoized such that it caches repeated evaluations of the function.  This has a large impact on the evaluation speed.  We can use <a href="https://jupyter.org/">Jupyter</a>'s <code>%%timeit</code> magic function to investigate this.  I've hidden the raw evaluation functions through Python's name mangaling, therefore the following function is not intended for general API usage, but for testing purposes, let's evalute the basis functions defined by the knot vector and basis order given above using the non-memoized code:</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">InÂ [2]:</div>
<div class="inner_cell">
<div class="input_area">
<div class="highlight hl-ipython2"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="n">num</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">InÂ [3]:</div>
<div class="inner_cell">
<div class="input_area">
<div class="highlight hl-ipython2"><pre><span></span><span class="o">%%time</span>it 
<span class="p">[</span> <span class="n">basis</span><span class="o">.</span><span class="n">_Bspline__basis</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">basis</span><span class="o">.</span><span class="n">p</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">x</span> <span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>1 loops, best of 3: 192 ms per loop
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now let's time the memoized code</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">InÂ [4]:</div>
<div class="inner_cell">
<div class="input_area">
<div class="highlight hl-ipython2"><pre><span></span><span class="o">%%time</span>it 
<span class="p">[</span> <span class="n">basis</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">x</span> <span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>100 loops, best of 3: 2.36 ms per loop
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>A speedup of roughly two orders of magnitude!</p>
</div>
</div>
</div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/peridigm-without-building-via-Docker/" class="u-url">Run Peridigm (and other scientific HPC codes) without building via Docker</a></h1>
        <div class="metadata">
            <p class="dateline"><a href="posts/peridigm-without-building-via-Docker/" rel="bookmark"><i class="fa fa-clock"></i> <time class="published dt-published" datetime="2015-04-22T10:44:25-05:00" title="2015-04-22 10:44">2015-04-22 10:44</time></a></p>
            <p class="byline author vcard"> <i class="fa fa-user"></i> <span class="byline-name fn" itemprop="author">
                John T. Foster
            </span></p>
                <p class="commentline"><i class="fa fa-comment"></i>         <a href="posts/peridigm-without-building-via-Docker/#disqus_thread" data-disqus-identifier="cache/posts/peridigm-witout-building-trilinos-with-docker.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <p><strong>UPDATE 6/1/2022:</strong> This post has been edited replacing the original docker
image location at <code>johntfoster/peridigm</code> with the current location at
<code>peridigm/peridigm</code>.  Additionally, the discussion related to parallel
computing can now be accomplished much easier by using <a href="https://docs.docker.com/compose/">docker-compose</a>. See the <a href="https://github.com/peridigm/peridigm/blob/master/doc/RunningSimulationsDocker.md">Running Simulations with Peridigm Docker Image</a> section of the Peridigm repository for more details.</p>
<hr>
<p>If your a software engineer working in web development or cloud software deployment, you would have had to have your head in the sand for the last two years to have not heard of <a href="http://www.docker.com">Docker</a> by now.  Briefly, Docker is a light-weight application container deployment service (think super low-overhead virtual machine, usually meant to contain one application and its dependencies), based on Linux containers.  While there are <a href="https://www.google.com/search?q=docker&amp;oq=docker++&amp;aqs=chrome..69i57j69i60l2j0l3.2551j1j9&amp;sourceid=chrome&amp;es_sm=119&amp;ie=UTF-8">100s of articles</a> describing Docker, its uses, many services, and even companies springing up around it; my colleagues in the scientific computing/high-performance computing (HPC) world are either not aware of Docker or don't see the utility, because it's hard to find significant information for or uses of Docker in this field.  This post will hopefully demonstrate some of the utility of the service and promote its use in HPC and in academic settings.  Additionally, as a contributor to the open-source software <a href="http://peridigm.sandia.gov">Peridigm</a>, my hope it that the path demonstrated here might lower the courage required to try out the software and promote new users.</p>
<p>To provide some background/context for my own interest in Docker, in my current role as an academic advisor to graduate students and in my previous career as a researcher at Sandia National Laboratories I have often been a user and/or developer of scientific software that has a fairly complex dependent application stack. To use <em>Peridigm</em>, a massively parallel computational peridynamic mechanics simulation code, as an example, we have a large dependency on <a href="http://trilinos.org">Trilinos</a>.  The packages we use from Trilinos have additional dependencies on a message passing interface (MPI) implementation (e.g. <a href="http://www.open-mpi.org">OpenMPI</a>), <a href="http://www.boost.org">Boost</a>, and <a href="http://www.unidata.ucar.edu/software/netcdf/">NetCDF</a>.  NetCDF has a dependency on <a href="https://hdfgroup.org/HDF5/">HDF5</a>, HDF5 on <a href="http://www.zlib.net/">zlib</a>, etc.  All of these need a C/C++ compiler for building, of course, and if we are using the Intel compilers we might as well go ahead and use <a href="https://software.intel.com/en-us/intel-mkl">MKL</a> libraries for efficiency.  Trilinos uses <a href="http://www.cmake.org">CMake</a> as a build system, so we need that around as well, at least during the build process. I'm sure there are others I am not thinking of at this moment.  Figuring out and understanding these dependencies and learning to debug build issues can take a really long time for a budding computational scientist to master.  Problems can be really compounded in a large multi-user HPC cluster where many different versions of compilers and libraries are present.  Using UNIX <a href="http://modules.sourceforge.net/">modules</a> goes a long way towards keeping things straight, but problems still arise that can be time consuming to troubleshoot.  I usually have new graduate students go through the process of building <em>Peridigm</em> and all the dependencies for their own learning experience when they first join my group, in every case they struggle considerably the first few times the have to build the entire suite of software on a new machine.  In some cases, particularly with MS level students, it can be a serious impediment to progress, as they are very short time lines to make meaningful research progress, and oftentimes they are only going to be end-users of the code, not developers.  Almost certainly they are not going to make changes to any of the packages in Trilinos or any of the other dependencies outside of <em>Peridigm</em>.  Enter Docker.</p>
<p>Docker allows for the ability to run applications in prebuilt containers on any Linux machine with Docker installed (or even Mac OS X and Windows via <a href="http://boot2docker.io/">Boot2Docker</a>).  If your Linux distribution doesn't already have it installed, just use your package manager (e.g. <code>apt-get install docker</code> on Debian/Ubuntu based machines and <code>yum install docker</code> on Fedora/Redhat based machines).  Docker is so ubiquitous at this point there are even entire Linux distributions like <a href="https://coreos.com/">CoreOS</a> being built specifically to maximize its strengths.  Additionally, there is the <a href="https://registry.hub.docker.com/">Docker Hub Registry</a> which provides <a href="http://github.com">Github</a> like <code>push/pull</code> operations and cloud storage of prebuilt images.  Of course, you or your organization can host your own Docker image registry as well (note: think of a <em>Docker image</em> like a C++ class, and a <em>Docker container</em> as a C++ object, or an <em>instance</em> of the image that runs).  You can derive images from one another and this is what I have done in setting up an image of <em>Peridigm</em>.  First, I have an image that starts with a baseline Debian based Linux and installs NetCDF and its dependencies.  I have two tagged versions, a standard NetCDF build and a <em>largefiles</em> patched version which makes the <a href="https://peridigm.sandia.gov/content/netcdf">large file modifications</a> as suggested in the <em>Peridigm</em> build documentation. The NetCDF largefile image can be pulled to a Docker users local machine from my public Docker Hub Registry with</p>
<div class="code"><pre class="code literal-block">docker<span class="w"> </span>pull<span class="w"> </span>peridigm/netcdf:largefiles
</pre></div>

<p>the NetCDF image is built automatically via continuous integration with a <a href="https://github.com/johntfoster/docker-netcdf">Github repository</a> that contains a <a href="https://docs.docker.com/reference/builder/">Dockerfile</a> with instructions for the image build process.  I then derive a Trilinos image from the NetCDF largefiles image.  This image contains only the Trilinos packages enabled such that <em>Peridigm</em> can be built.  The Trilinos image can be pulled to a local machine with</p>
<div class="code"><pre class="code literal-block">docker<span class="w"> </span>pull<span class="w"> </span>peridigm/trilinos
</pre></div>

<p>this Trilinos image could be used to derive other images for other Trilinos based application codes which utilize the same dependent packages as <em>Peridigm</em>.  The <code>cmake</code> build script which shows the active Trilinos packages in this image can be viewed <a href="https://github.com/johntfoster/docker-trilinos/blob/master/trilinos-debian-cmake.sh">here</a>.  This image is also built via continuous integration with <a href="https://github.com/johntfoster/docker-trilinos">this Github repository</a> which can easily be modified to include more Trilinos packages.  Finally, the <em>Peridigm</em> image can be pulled to a local machine with</p>
<div class="code"><pre class="code literal-block">docker<span class="w"> </span>pull<span class="w"> </span>peridigm/peridigm
</pre></div>

<p>this image is built from the Dockerfile <a href="https://github.com/johntfoster/docker-peridigm">found here</a>, however it must be modified slightly to work with a local <em>Peridigm</em> source distribution if you want to build your own image because I do not want to distribute the <em>Peridigm</em> software source code as that is done by Sandia National Laboratories (see <a href="http://peridigm.sandia.gov">here</a> if interested in getting the source). To run <em>Peridigm</em> you simply have to run the command:</p>
<div class="code"><pre class="code literal-block">docker<span class="w"> </span>run<span class="w"> </span>--name<span class="w"> </span>peridigm0<span class="w"> </span>-d<span class="w"> </span>-v<span class="w"> </span><span class="sb">`</span><span class="nb">pwd</span><span class="sb">`</span>:/output<span class="w"> </span>peridigm/peridigm<span class="w"> </span><span class="se">\ </span>
<span class="w">       </span>Peridigm<span class="w"> </span>fragmenting_cylinder.peridigm<span class="w"> </span>
</pre></div>

<p>Even if you have not pulled the images locally from the Docker Hub Registry, this command will initiate the download process and  run the command after downloading.  Because the image contains all the necessary dependencies, it is around 2GB in size; therefore, it takes a while to download on the first execution.  I have not made any attempts to optimize the image size, but it's likely it could be made smaller to speed this process up.  Once you have the image locally, launching a container to run a simulation takes only milliseconds.  The <code>--name</code> option gives the container the name <code>peridigm0</code>, this could be any name you choose and naming the container is not required, but makes for an easy way to stop the execution if you wish.  If you need to stop the execution, simply run <code>docker stop peridigm0</code>.  The <code>-d</code> option "detaches" the terminal so that the process runs in the background, you can reattach if needed with <code>docker attach peridigm0</code>.  The <code>-v</code> option is critical for retrieving the data generated by the simulation.  Docker handles data a little strangely, so you have to mount a local volume, in this case the current working directory returned by <code>pwd</code>, but in general it could any <code>/path/to/data/storage</code>.  The local path is mounted to the volume <code>/output</code> that has been created in the <em>Peridigm</em> Docker image.  You must place your input file, in this case <code>fragmenting_cylinder.peridigm</code> from the examples distributed with <em>Peridigm</em>, in your local shared mount for the <em>Peridigm</em> executable located in the Docker image to access it. As the simulation runs, you will see an output file <code>fragmenting_cylinder.e</code> appear in the shared mount.  The other two arguments, <code>peridigm/peridigm</code> and <code>Peridigm</code> are the image name in the Docker Hub Registry and the executable, respectively.</p>
<h4>To quickly recap, if all you want to test out <em>Peridigm</em> quickly, follow these 3 steps:</h4>
<ol>
<li>
<p>Install Docker via your package manager on Linux or utilize Boot2Docker on Mac OS X and Windows.</p>
</li>
<li>
<p>Place a <em>Peridigm</em> input file such as <code>fragmenting_cylinder.perdigm</code> in a directory.</p>
</li>
<li>
<p>Run the <code>docker run ...</code> command above replacing <code>pwd</code> with the directory name where you placed the file in 2., if not running from the current working directory.</p>
</li>
</ol>
<p>That's it.  No compiling, no dependencies.  Most of the performance studies I've seen report a very small, 1-2% hit from the Dockerized version of an application over a natively installed application stack.</p>
<p>Of course, <em>Peridigm</em> is meant to be run in a massively parallel setting.  A Docker container can take advantage of some multithreading, therefore you can also just run an MPI job right inside a Docker container, for <em>Peridigm</em> we can simply run</p>
<div class="code"><pre class="code literal-block">docker<span class="w"> </span>run<span class="w"> </span>--name<span class="w"> </span>peridigm0<span class="w"> </span>-d<span class="w"> </span>-v<span class="w"> </span><span class="sb">`</span><span class="nb">pwd</span><span class="sb">`</span>:/output<span class="w"> </span>peridigm/peridigm<span class="w"> </span><span class="se">\</span>
<span class="w">       </span>mpiexec<span class="w"> </span>-np<span class="w"> </span><span class="m">2</span><span class="w"> </span>Peridigm<span class="w"> </span>fragmenting_cylinder.peridigm<span class="w"> </span>
</pre></div>

<p>for a possibly small performance gain.  If you run this command, you should now see the domain decomposed output files, e.g. <code>fragmenting_cylinder.e.0</code> and  <code>fragmenting_cylinder.e.1</code> appear in your mounted directory.  However, this alone will not give you the true gains you expect form multicore CPUs or close to what you would see in a massively parallel HPC cluster.  We can spawn a virtual cluster of Docker containers, from the <code>peridigm/peridigm</code> image and use MPI to communicate between them.  To do this, we launch our virtual cluster with <code>docker run ...</code> but this time without any execution command.  The default is for these containers to be ssh servers, so they will sit there idle until we need them for an MPI task.  For example, if we want a 2 node job, we can run</p>
<div class="code"><pre class="code literal-block">docker<span class="w"> </span>run<span class="w"> </span>--name<span class="w"> </span>peridigm0<span class="w"> </span>-d<span class="w"> </span>-P<span class="w"> </span>-h<span class="w"> </span>node0<span class="w"> </span>-v<span class="w"> </span><span class="sb">`</span><span class="nb">pwd</span><span class="sb">`</span>:/output<span class="w"> </span>peridigm/peridigm
docker<span class="w"> </span>run<span class="w"> </span>--name<span class="w"> </span>peridigm1<span class="w"> </span>-d<span class="w"> </span>-P<span class="w"> </span>-h<span class="w"> </span>node1<span class="w"> </span>-v<span class="w"> </span><span class="sb">`</span><span class="nb">pwd</span><span class="sb">`</span>:/output<span class="w"> </span>peridigm/peridigm
</pre></div>

<p>this launches containers named <code>peridigm0</code> and <code>peridigm1</code> that will have local (to their containers) machine names <code>node0</code> and <code>node1</code>.  Now we can find the containers IP addresses with the following command</p>
<div class="code"><pre class="code literal-block">docker<span class="w"> </span>inspect<span class="w"> </span>-f<span class="w"> </span><span class="s2">"{{ .NetworkSettings.IPAddress }}"</span><span class="w"> </span>peridigm0
docker<span class="w"> </span>inspect<span class="w"> </span>-f<span class="w"> </span><span class="s2">"{{ .NetworkSettings.IPAddress }}"</span><span class="w"> </span>peridigm1
</pre></div>

<p>These commands will return the ip addresses, just for demonstration purposes, let's assume that they are <code>10.1.0.124</code> and <code>10.1.0.125</code> respectively.  Now we can launch <code>mpiexec</code> to run <em>Peridigm</em> on our virtual cluster.  This time the containers are already running, so all we have to is run</p>
<div class="code"><pre class="code literal-block">docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>peridigm0<span class="w"> </span>mpiexec<span class="w"> </span>-np<span class="w"> </span><span class="m">2</span><span class="w"> </span>-host<span class="w"> </span><span class="m">10</span>.1.0.124,10.1.0.125<span class="w"> </span><span class="se">\</span>
<span class="w">       </span>Peridigm<span class="w"> </span>fragmenting_cylinder.peridigm
</pre></div>

<p>which executes <code>mpiexec</code> on the container named <code>peridigm0</code> and passes a host list to make MPI aware of where the nodes waiting for tasks are.  You can have fine grained control over <code>mpirun</code> as well, for example if you wanted to run 2 MPI tasks per Docker container, you could do something like</p>
<div class="code"><pre class="code literal-block">docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>peridigm0<span class="w"> </span>mpiexec<span class="w"> </span>-np<span class="w"> </span><span class="m">4</span><span class="w"> </span>-num-proc<span class="w"> </span><span class="m">2</span><span class="w"> </span>-host<span class="w"> </span><span class="m">10</span>.1.0.124,10.1.0.125<span class="w"> </span><span class="se">\</span>
<span class="w">       </span>Peridigm<span class="w"> </span>fragmenting_cylinder.peridigm
</pre></div>

<p>when your finished you can stop and remove the containers with</p>
<div class="code"><pre class="code literal-block">docker<span class="w"> </span>stop<span class="w"> </span>peridigm0<span class="w"> </span>peridigm1
docker<span class="w"> </span>rm<span class="w"> </span>-v<span class="w"> </span>peridigm0<span class="w"> </span>peridigm1
</pre></div>

<p>the <code>-v</code> option to <code>docker rm</code> ensures that the mounted volumes are removed as well and there not any orphaned file system volume shares. I have written a Python script (shown below) that automates the whole process for an arbitrary number of Docker containers in a virtual cluster.</p>
<script src="http://gist-it.sudarmuthu.com/https://github.com/johntfoster/docker-peridigm/blob/master/pdrun?footer=minimal"></script><p>You can utilize this script to run <em>Peridigm</em> simulations on a virtual Docker cluster with the following command:</p>
<div class="code"><pre class="code literal-block">./pdrun<span class="w"> </span>--np<span class="w"> </span><span class="m">4</span><span class="w"> </span>fragmenting_cylinder.peridigm<span class="w"> </span>--path<span class="o">=</span><span class="sb">`</span><span class="nb">pwd</span><span class="sb">`</span>
</pre></div>

<p>please consult the documentation of the script for more info about the options using <code>./pdrun -h</code>.  There are really only a few detials in between what I've done here and being able to deploy this on a production HPC cluster.  The main difference would be that you would use a resource manager, e.g. <a href="http://slurm.schedmd.com/">SLURM</a> to schedule running the Docker containers.  You would also want to have both your mounted volume and a copy of the Docker image on a shared filesystem across all nodes of the cluster.  Did I mention you can <a href="https://docs.Docker.com/registry/deploying/">deploy your own private registry server?</a></p>
<p>The last point I would like to make about Docker is that, while I demonstrated that end users can benefit by eliminating the entire build process and move right to running the simulation code, also developers could greatly benefit from using a common development image and requiring only support for the Docker image, as it can be quickly deployed and tested against all platforms.  How many times have your heard, even from experienced developers, after a commit fails in continuous integration, "It worked on my machine...".  Docker offers a solution to those problems and many others.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/cockrell-school-beamer-template/" class="u-url">A LaTeX Beamer template/theme for the Cockrell School of Engineering</a></h1>
        <div class="metadata">
            <p class="dateline"><a href="posts/cockrell-school-beamer-template/" rel="bookmark"><i class="fa fa-clock"></i> <time class="published dt-published" datetime="2015-04-12T21:44:25-05:00" title="2015-04-12 21:44">2015-04-12 21:44</time></a></p>
            <p class="byline author vcard"> <i class="fa fa-user"></i> <span class="byline-name fn" itemprop="author">
                John T. Foster
            </span></p>
                <p class="commentline"><i class="fa fa-comment"></i>         <a href="posts/cockrell-school-beamer-template/#disqus_thread" data-disqus-identifier="cache/posts/cockrell-school-beamer-template.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <p>This post is mainly aimed at my colleagues (and students) in the Cockrell School of Engineering at <a href="http://www.utexas.edu">The University of Texas at Austin</a>.  As you may have gathered from other posts on this blog, I am a huge fan of <a href="http://www.latex-project.org/">LaTeX</a> for typesetting documents.  Recently, I had to give a talk within the <a href="http://pge.utexas.edu">Department</a> and was asked polietly by our Communications Coordinator to use a provided MS PowerPoint template that conforms to the <a href="http://www.engr.utexas.edu/communications/visualguidelines">Visual Style Guide</a> of the <a href="http://engr.utexas.edu">Cockrell School of Engineering</a>. </p>
<p>I have many reasons for disliking PowerPoint that I will not go into here, but I have avoided using it at all costs for several years now, and did not want to start now.  I also have an appreciation for branding and respect the desire to project a uniform brand from the Departments/School.  My solution was to create my own LaTeX Beamer presentation style that replicates the Cockrell School PowerPoint as close as possible.  I hacked it together relatively quickly for my talk which I delivered last week, but decided over the weekend to put together something a little more robust to share with my colleagues in the Cockrell School.  The style file accepts arguments to input different department names and has some nice features for using BibTeX citations within the presentation.</p>
<p>The repository can be found cloned with <code>git</code> with the following command:</p>
<div class="code"><pre class="code literal-block">git<span class="w"> </span>clone<span class="w"> </span>git@github.com:johntfoster/cockrell-school-latex-beamer-template
</pre></div>

<p>it can also be found on <a href="https://github.com/johntfoster/cockrell-school-latex-beamer-template">GitHub</a>. Feel free to fork it and extend it as you see fit.  If you find any errors or add useful extensions, please send pull-requests.</p>
<p>You can also download a zip archive of the files : <a href="https://github.com/johntfoster/cockrell-school-latex-beamer-template/archive/master.zip">cockrell-school-latex-beamer-template-master.zip</a></p>
<p>An example of the PDF output results are shown below:</p>
<p><img src="files/presentation.gif" width="500"></p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/keep-texshop-from-stealing-focus/" class="u-url">Prevent TeXShop from stealing focus from an external editor</a></h1>
        <div class="metadata">
            <p class="dateline"><a href="posts/keep-texshop-from-stealing-focus/" rel="bookmark"><i class="fa fa-clock"></i> <time class="published dt-published" datetime="2015-04-08T21:44:25-05:00" title="2015-04-08 21:44">2015-04-08 21:44</time></a></p>
            <p class="byline author vcard"> <i class="fa fa-user"></i> <span class="byline-name fn" itemprop="author">
                John T. Foster
            </span></p>
                <p class="commentline"><i class="fa fa-comment"></i>         <a href="posts/keep-texshop-from-stealing-focus/#disqus_thread" data-disqus-identifier="cache/posts/keep-texshop-from-stealing-focus.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <p>I use <a href="http://www.vim.org/">Vim</a> as my editor of choice for nearly all text editing activities including writing LaTeX documents.  My usual workflow is to use a split window setup with <code>tmux</code> and run <code>latexmk -pvc</code> on my LaTeX file in one split-pane while editing the source file in the other split-pane.  If your not familiar with <code>latexmk</code> it is a Perl script that, in a smart way, using minimal number of compile runs, keeps your LaTeX document output up-to-date with the correct cross-references, citations, etc.  The <code>-pvc</code> option keeps it running in the background and recompiles with a detected change in <em>any</em> of the project files.  I then use <a href="http://pages.uoregon.edu/koch/texshop/">TeXShop</a> as a PDF viewer because it has the nice ability to detect changes to the PDF output and autoupdate.  Mac OS X's built-in Preview will do this as well, but you must click the window to enable the refresh.  However, by default, TeXShop will steal focus from the editor window.  This is annoying causing me to click or Command-Tab back to the Terminal to continue typing.  I found a fix in a <a href="http://tex.stackexchange.com/questions/43057/macosx-pdf-viewer-automatic-reload-on-file-modification">comment on Stack Exchange</a>.  If you type</p>
<div class="code"><pre class="code literal-block">defaults<span class="w"> </span>write<span class="w"> </span>TeXShop<span class="w"> </span>BringPdfFrontOnAutomaticUpdate<span class="w"> </span>NO
</pre></div>

<p>in the Terminal window this will disable the focus-stealing behavior and leave the window in the background so that it doesn't disrupt continuous editing.</p>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/using-exoduspy-to-extract-data-from-fea-database/" class="u-url">Using Exodus.py to extract data from FEA database</a></h1>
        <div class="metadata">
            <p class="dateline"><a href="posts/using-exoduspy-to-extract-data-from-fea-database/" rel="bookmark"><i class="fa fa-clock"></i> <time class="published dt-published" datetime="2015-02-16T10:41:59-06:00" title="2015-02-16 10:41">2015-02-16 10:41</time></a></p>
            <p class="byline author vcard"> <i class="fa fa-user"></i> <span class="byline-name fn" itemprop="author">
                John T. Foster
            </span></p>
                <p class="commentline"><i class="fa fa-comment"></i>         <a href="posts/using-exoduspy-to-extract-data-from-fea-database/#disqus_thread" data-disqus-identifier="cache/posts/using-exoduspy-to-extract-data-from-fea-database.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This post will briefly show how you can use the <code>exodus.py</code> script distributed with <a href="http://trilinos.org">Trilinos</a> to extract data directly from an Exodus database.  Exodus is a wrapper API on NetCDF that is specifically suited for finite element data.  That is, it defines variables on nodes, elements, blocks of elements, sets of nodes, etc.  The Exodus API is provided in both C and Fortran, <code>exodus.py</code> uses <code>ctypes</code> to call into the compiled Exodus C library.</p>
<p>First, I need to rearrange my install environment a little because <code>exodus.py</code> expects the NetCDF and Exodus compiled dynamic libraries to be in the same directory. On my machine they are not, so I will just create some symbolic links.  It also expects the Exodus include file to be in a folder labeled <code>inc</code>, but on my machine it is labeled <code>include</code> so again, I will just create some symbolic links.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">InÂ [1]:</div>
<div class="inner_cell">
<div class="input_area">
<div class="highlight hl-ipython2"><pre><span></span>%%bash
ln<span class="w"> </span>-sf<span class="w"> </span>/usr/local/netcdf/lib/libnetcdf.dylib<span class="w"> </span>/usr/local/trilinos/lib/.
ln<span class="w"> </span>-sf<span class="w"> </span>/usr/local/trilinos/include<span class="w"> </span>/usr/local/trilinos/inc
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>If your /usr/local is not writable, you may need to use <code>sudo</code> to create the links.  Also, I am on Mac OSX where dynamic libraries have a <code>.dylib</code> file extension.  If you use Linux, you will need to change <code>.dylib</code> above to <code>.so</code>.</p>
<p>We also need to add the path of <code>exodus.py</code> to the active <code>PYTHONPATH</code>.  We can do this from within the IPython session.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">InÂ [2]:</div>
<div class="inner_cell">
<div class="input_area">
<div class="highlight hl-ipython2"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>
<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">'/usr/local/trilinos/bin'</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now we can load the <code>exodus</code> class from <code>exodus.py</code> and instantiate a file object with a given filename.  I will use the <code>ViscoplasticNeedlemanFullyPrescribedTension_NoFlaw.h</code> Exodus history database that is output from the <a href="http://peridigm.sandia.gov"><em>Peridigm</em></a> verification test of the same name.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">InÂ [3]:</div>
<div class="inner_cell">
<div class="input_area">
<div class="highlight hl-ipython2"><pre><span></span><span class="kn">from</span> <span class="nn">exodus</span> <span class="kn">import</span> <span class="n">exodus</span>

<span class="n">e</span> <span class="o">=</span> <span class="n">exodus</span><span class="p">(</span><span class="s1">'ViscoplasticNeedlemanFullyPrescribedTension_NoFlaw.h'</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">'r'</span><span class="p">,</span> <span class="n">array_type</span><span class="o">=</span><span class="s1">'numpy'</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt"></div>
<div class="output_subarea output_stream output_stdout output_text">
<pre>
You are using exodus.py v 1.02 (beta), a python wrapper of some of the exodus II library.
Copyright (c) 2013,2014 Sandia Corporation. Under the terms of Contract DE-AC04-94AL85000
with Sandia Corporation, the U.S. Government retains certain rights in this software.

Opening exodus file: ViscoplasticNeedlemanFullyPrescribedTension_NoFlaw.h
</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now we'll use the API calls to extract the data.  First we'll get the time step values.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">InÂ [4]:</div>
<div class="inner_cell">
<div class="input_area">
<div class="highlight hl-ipython2"><pre><span></span><span class="n">time_steps</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="n">get_times</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now we can print the global variable names.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">InÂ [5]:</div>
<div class="inner_cell">
<div class="input_area">
<div class="highlight hl-ipython2"><pre><span></span><span class="n">e</span><span class="o">.</span><span class="n">get_global_variable_names</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[5]:</div>
<div class="output_text output_subarea output_execute_result">
<pre>['Max_Von_Mises_Stress', 'Min_Von_Mises_Stress']</pre>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>And use the global variable names to extract the data from the database.  Since we used <code>array_type='numpy'</code> when we instantiated the file object above.  The data is stored in numpy arrays.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">InÂ [6]:</div>
<div class="inner_cell">
<div class="input_area">
<div class="highlight hl-ipython2"><pre><span></span><span class="n">vm_max</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="n">get_global_variable_values</span><span class="p">(</span><span class="s1">'Max_Von_Mises_Stress'</span><span class="p">)</span>
<span class="n">vm_min</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="n">get_global_variable_values</span><span class="p">(</span><span class="s1">'Min_Von_Mises_Stress'</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Because in this example test we load at a constant strain-rate, we can easily convert the time-steps to engineering strain.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">InÂ [7]:</div>
<div class="inner_cell">
<div class="input_area">
<div class="highlight hl-ipython2"><pre><span></span><span class="n">eng_strain_Y</span> <span class="o">=</span> <span class="n">time_steps</span> <span class="o">*</span> <span class="mf">0.001</span> <span class="o">/</span> <span class="mf">1.0e-8</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now we can create a stress-strain curve</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">InÂ [8]:</div>
<div class="inner_cell">
<div class="input_area">
<div class="highlight hl-ipython2"><pre><span></span><span class="o">%</span><span class="k">matplotlib</span> inline
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">eng_strain_Y</span><span class="p">,</span> <span class="n">vm_max</span><span class="p">,</span> <span class="n">eng_strain_Y</span><span class="p">,</span> <span class="n">vm_min</span><span class="p">);</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">"Max/Min von Mises Stress"</span><span class="p">);</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt"></div>
<div class="output_png output_subarea">
<img alt="No description has been provided for this image" src="data:image/png;base64,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">
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>I don't want the symbolic links I created earlier to cause any unexpected trouble for me later, so I will remove them.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">InÂ [9]:</div>
<div class="inner_cell">
<div class="input_area">
<div class="highlight hl-ipython2"><pre><span></span>%%bash
rm<span class="w"> </span>/usr/local/trilinos/lib/libnetcdf.dylib
rm<span class="w"> </span>/usr/local/trilinos/inc
</pre></div>
</div>
</div>
</div>
</div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/discrete-error-and-convergence/" class="u-url">Discrete error and convergence</a></h1>
        <div class="metadata">
            <p class="dateline"><a href="posts/discrete-error-and-convergence/" rel="bookmark"><i class="fa fa-clock"></i> <time class="published dt-published" datetime="2015-02-10T15:09:54-06:00" title="2015-02-10 15:09">2015-02-10 15:09</time></a></p>
            <p class="byline author vcard"> <i class="fa fa-user"></i> <span class="byline-name fn" itemprop="author">
                John T. Foster
            </span></p>
                <p class="commentline"><i class="fa fa-comment"></i>         <a href="posts/discrete-error-and-convergence/#disqus_thread" data-disqus-identifier="cache/posts/discrete-error-and-convergence.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>I was asked a question today about a typical way to present the error between a numerical scheme and an exact solution, and the convergence of the method.  I will demonstate one method that is typically used based on the $L_2$-norm of the error.</p>
<p>Consider the ODE</p>
<p>\begin{equation}
\frac{\rm{d}x}{\rm{d}t} = x(t) \quad x(0) = 1
\end{equation}</p>
<p>which has the analytic solution</p>
<p>\begin{equation}
x(t) = {\rm e}^t
\end{equation}</p>
<p>I'm too lazy to code up anything much more sophisticated, so let's use an Euler explicit finite difference solution for $0 &lt; t &lt; 100$.  We'll write a function that computes the $L_2$ norm of the error between the discrete solution and the exact solution.  The formula for the norm is</p>
<p>$$
\Vert error \Vert_{L_2} = \sqrt{ \frac{1}{N} \sum_{i=1}^N(discrete(x_i) - exact(x_i))^2}
$$</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">InÂ [1]:</div>
<div class="inner_cell">
<div class="input_area">
<div class="highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="k">def</span> <span class="nf">finite_diff_solution_err</span><span class="p">(</span><span class="n">N</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">       Compute explicit finite difference solution and L2 error norm</span>
<span class="sd">       </span>
<span class="sd">       input: N - number of time steps</span>
<span class="sd">       output: normed error</span>
<span class="sd">    """</span>
    
    <span class="n">t</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">100.</span><span class="p">,</span> <span class="n">num</span><span class="o">=</span><span class="n">N</span><span class="p">)</span>
    
    <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros_like</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
    
    <span class="n">n</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">N</span><span class="p">)</span>
    
    <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mf">1.0</span>
    
    <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span> <span class="o">=</span> <span class="p">(</span><span class="mf">1.0</span> <span class="o">+</span> <span class="p">(</span><span class="n">t</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span> <span class="o">-</span> <span class="n">t</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]))</span> <span class="o">**</span> <span class="p">(</span><span class="n">n</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span> <span class="o">*</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    
    <span class="n">exact</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
    
    <span class="n">err</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">((</span><span class="n">x</span><span class="p">[:]</span> <span class="o">-</span> <span class="n">exact</span><span class="p">[:])</span> <span class="o">**</span> <span class="mf">2.0</span><span class="p">)</span> <span class="o">/</span> <span class="n">N</span><span class="p">)</span>
    
    <span class="k">return</span> <span class="n">err</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now let's solve our problem for increasing degrees-of-freedom</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">InÂ [2]:</div>
<div class="inner_cell">
<div class="input_area">
<div class="highlight hl-ipython3"><pre><span></span><span class="n">dofs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">10</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">1000</span><span class="p">,</span> <span class="mi">10000</span><span class="p">,</span> <span class="mi">100000</span><span class="p">])</span>

<span class="n">errs</span> <span class="o">=</span> <span class="p">[</span><span class="n">finite_diff_solution_err</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">dofs</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Finally, we plot the results as a function of step size $h$.  If we fit a straight line to the data, we get an estimate of the convergence rate of the method, so we'll do that as well.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">InÂ [3]:</div>
<div class="inner_cell">
<div class="input_area">
<div class="highlight hl-ipython3"><pre><span></span><span class="o">%</span><span class="k">matplotlib</span> inline
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="c1">#Fit a straight line</span>
<span class="n">coefs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">polyfit</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="mf">1.0</span> <span class="o">/</span> <span class="n">dofs</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">errs</span><span class="p">),</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="mi">10</span> <span class="o">**</span> <span class="p">(</span><span class="n">coefs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="mf">1.0</span> <span class="o">/</span> <span class="n">dofs</span><span class="p">)</span> <span class="o">+</span> <span class="n">coefs</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="c1">#Plot</span>
<span class="n">plt</span><span class="o">.</span><span class="n">loglog</span><span class="p">(</span><span class="mf">1.0</span> <span class="o">/</span> <span class="n">dofs</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="s1">'b-'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">loglog</span><span class="p">(</span><span class="mf">1.0</span> <span class="o">/</span> <span class="n">dofs</span><span class="p">,</span> <span class="n">errs</span><span class="p">,</span> <span class="s1">'b^'</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">"$\log_</span><span class="si">{10}</span><span class="s2"> h$"</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">"$\log_</span><span class="si">{10}</span><span class="s2"> \Vert error \Vert_</span><span class="si">{L_2}</span><span class="s2">$"</span><span class="p">);</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt"></div>
<div class="output_png output_subarea">
<img alt="No description has been provided for this image" src="data:image/png;base64,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">
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The first term below is the slope of the least-square fit staight line which shows the convergence rate.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">InÂ [4]:</div>
<div class="inner_cell">
<div class="input_area">
<div class="highlight hl-ipython3"><pre><span></span><span class="n">coefs</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[4]:</div>
<div class="output_text output_subarea output_execute_result">
<pre>array([  0.45172826,  43.45975537])</pre>
</div>
</div>
</div>
</div>
</div>
    </div>
    </article><article class="h-entry post-text" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title"><a href="posts/managing-a-professional-website/" class="u-url">Managing a professional website with Nikola, LaTeX, Github and Travis CI</a></h1>
        <div class="metadata">
            <p class="dateline"><a href="posts/managing-a-professional-website/" rel="bookmark"><i class="fa fa-clock"></i> <time class="published dt-published" datetime="2014-10-09T22:34:25-05:00" title="2014-10-09 22:34">2014-10-09 22:34</time></a></p>
            <p class="byline author vcard"> <i class="fa fa-user"></i> <span class="byline-name fn" itemprop="author">
                John T. Foster
            </span></p>
                <p class="commentline"><i class="fa fa-comment"></i>         <a href="posts/managing-a-professional-website/#disqus_thread" data-disqus-identifier="cache/posts/managing-a-professional-website.html">Comments</a>


        </p>
</div>
    </header><div class="e-content entry-content">
    <p>As an academic, ensuring that others are aware of and can easily access recent research results, papers, and other professional communications is an important part of the "branding" we are tasked with as quasi-<em>business managers</em> in running our research programs.  Most of us keep an up-to-date Curriculum Vita (CV) for purposes of annual performance reviews, proposal submissions, etc.  I maintain my own CV judiciously, updating it in near real-time after any new paper is published, talk is delivered, or award is given.  </p>
<p>For several years, I have maintained my CV using the <a href="http://www.latex-project.org/">LaTeX</a> typesetting system.  I prefer the elegant typesetting of LaTeX, but mostly I prefer to keep my published papers stored in a <a href="http://www.bibtex.org/">BibTeX</a> database and use the citations not only in my CV, but also in journal articles, and other forms of communication.  Maintaining only one BibTeX database with all my papers reduces reproduction of work from paper-to-paper.  I also learned at some point that I could use the <code>htlatex</code> utility distributed with <a href="https://www.tug.org/texlive/">TeXLive</a> to convert my LaTeX CV into HTML for posting on the web.  </p>
<p>I have recently designed a <a href="http://johnfoster.pge.utexas.edu">professional website</a> to introduce myself, advertise my research, and include professional information and resources, one of them being my <a href="http://johnfoster.pge.utexas.edu/cv/">CV</a>.  After being a <a href="http://www.wordpress.com">Wordpress</a> user for many years, for this website I switched to the great static blog/website generator <a href="http://getnikola.com/">Nikola</a>. I love the ability to edit plain text files in <a href="http://www.vim.org">Vim</a> using Markdown, ReST, or even a mix of Markdown, LaTeX, and HTML through <a href="http://johnmacfarlane.net/pandoc/">pandoc</a> integration.  The icing-on-the-cake is the ability to create blog posts with the nascent <a href="http://www.ipython.org">IPython Notebook</a>.  Nikola also has built-in support for deploying to <a href="https://pages.github.com/">GitHub Pages</a>, which while it's not difficult to home-roll a deployment scheme, this additional feature is nice for beginners using GitHub Pages.</p>
<p>Because I update my CV much more frequently than I would need to update the website in general, and have for sometime utilized <code>git</code> as a version control tool, I decided to push the <a href="https://github.com/johntfoster/CV">CV repository</a> to <a href="https://github.com">GitHub</a> and see if I could devise a scheme to automate the workflow of keeping not only my CV up-to-date, but also regenerating my professional website automatically upon a <code>git push</code> to the CV repository.  I found this to be pretty straightforward with the help of <a href="https://travis-ci.org/">Travis CI</a>.  If your not familiar with Travis, it is a <em>continuous integration</em> system, typically used in software testing.  It integrates seamlessly with GitHub, such that upon any <code>git push</code> to GitHub, Travis will <code>pull</code> a current version of the repository and run a set of commands specified in a <code>travis.yml</code> file.  In summary, here is my workflow for keeping everything updated:</p>
<ol>
<li><a href="posts/managing-a-professional-website/#editcv">Edit CV</a></li>
<li><a href="posts/managing-a-professional-website/#commit">Commit changes to local repository and push to GitHub</a></li>
<li><a href="posts/managing-a-professional-website/#builds">Travis builds CV in PDF and HTML versions</a></li>
<li><a href="posts/managing-a-professional-website/#push">Upon a successful build, Travis pushes new PDF and HTML versions to a branch on the CV repo</a></li>
<li><a href="posts/managing-a-professional-website/#trigger">Travis then triggers a rebuild of the professional website which is stored in it's own repo</a></li>
<li><a href="posts/managing-a-professional-website/#rebuilds">Travis then rebuilds the professional website with Nikola and includes the new HTML CV as a page</a></li>
</ol>
<p>I'll now walk through the key parts of each step of the workflow:</p>
<h4>Edit CV</h4>
<p><a name="editcv"></a></p>
<p>I am assuming you have a LaTeX CV to edit or a template your working from.  Feel free to use <a href="https://github.com/johntfoster/CV">my own</a> and modify it in anyway you like to suit your own needs/preferences.  It's a good idea to ensure the CV builds locally first, I prefer to use <code>latexmk</code> for this.  The following <code>.latexmkrc</code> works for me both locally on Mac OS X as well as on the Linux Ubuntu machines that Travis CI utilizes.</p>
<script src="http://gist-it.sudarmuthu.com/https://github.com/johntfoster/CV/blob/master/.latexmkrc?slice=0:3&amp;footer=minimal"></script><p>The <code>\\\def\\\ispdf{1}</code> part is because my <code>cv.tex</code> file has a definition statement in it that modifies the output slightly (regarding fonts) depending on whether you are requesting a PDF output or the HTML output.  The extra backslash characters are to escape correctly in the <code>bash</code> shell.  A default run of <code>latexmk</code> with this <code>.latexmkrc</code> file should create a PDF version of the CV.  While counter-intuitive, a run of <code>latexmk -pdf</code> will actually produce an HTML version of the CV, this is because the <code>pdflatex</code> command has actually been redefined to <code>htlatex</code> on the second line of the <code>.latexmkrc</code> file.  Even if the desire is to build an HTML version, <code>latexmk</code> must be run first to produce the correct cross-references and <code>.aux</code> file.</p>
<h4>Commit changes to local repository and push to GitHub</h4>
<p><a name="commit"></a></p>
<p>There are so many great <code>git</code> and <a href="https://github.com">GitHub</a> resources out there, I'm going to assume you know or can find out about basic <code>git</code> usage.  There is one important think to note for the <em>first</em> commit to GitHub.  You may run into problems if there is not an alternate branch of the repository for Travis to push the build results to.  You can create a branch with the following command:</p>
<div class="code"><pre class="code literal-block">git<span class="w"> </span>checkout<span class="w"> </span>-b<span class="w"> </span>travis-build<span class="w"> </span>--orphan
</pre></div>

<p>This will create a new branch called <code>travis-build</code> with no history.  You should then remove all the files in this branch, commit, and push to GitHub</p>
<div class="code"><pre class="code literal-block">git<span class="w"> </span>rm<span class="w"> </span>-rf<span class="w"> </span>*
git<span class="w"> </span>commit<span class="w"> </span>-m<span class="w"> </span><span class="s2">"First commit to travis-build branch"</span>
git<span class="w"> </span>push<span class="w"> </span>origin<span class="w"> </span>travis-build
</pre></div>

<p>assuming the default <code>origin</code> name for your GitHub repository.  Now switch back to your <code>master</code> branch, and push to GitHub, the <code>travis.yml</code> file in your repository (details covered below) will instruct Travis on how to build the repository</p>
<div class="code"><pre class="code literal-block">git<span class="w"> </span>checkout<span class="w"> </span>master
git<span class="w"> </span>commit<span class="w"> </span>-am<span class="w"> </span><span class="s2">"A commit message detailing changes"</span>
git<span class="w"> </span>push<span class="w"> </span>origin<span class="w"> </span>master
</pre></div>

<h4>Travis builds CV in PDF and HTML versions</h4>
<p><a name="builds"></a></p>
<p>You will need to enable Travis CI for your repository.  After signing into Travis via your GitHub username, you can add any public GitHub repository for free continuous integration services.  You can add a repository by clicking on the <code>+</code> arrow in the left-hand panel of Travis as shown</p>
<p><img src="files/add-repo.png"></p>
<p>Then click the <code>ON</code> button to enable Travis.</p>
<p><img src="files/enable-travis.png"></p>
<p>Upon committing, Travis reads the <code>travis.yml</code> file in the repository and performs a set of actions.  In this case, we want to build a LaTeX file which there is not a preinstalled Travis Ubuntu instance for LaTeX so we need to use <code>apt-get</code> to install all of the LaTeX dependencies and proper fonts for building the CV. The other commands just some basic Travis configuration, full details for Travis configuration can be found <a href="http://docs.travis-ci.com/">here</a></p>
<script src="http://gist-it.sudarmuthu.com/https://github.com/johntfoster/CV/blob/master/.travis.yml?slice=0:16&amp;footer=minimal"></script><p>Once all of the dependencies are installed, Travis will build both the PDF and HTML versions of the CV with</p>
<script src="http://gist-it.sudarmuthu.com/https://github.com/johntfoster/CV/blob/master/.travis.yml?slice=17:19&amp;footer=minimal"></script><p>After a successful build, Travis will clone the previously created <code>travis-build</code> branch, copy the newly created PDF and HTML files into this branch, commit them, and push them back to GitHub.  This requires setting up a few environment variables, that can be added to the Travis project page.  The variables are <code>GIT_EMAIL</code>, <code>GIT_NAME</code>, <code>GH_TOKEN</code>, and <code>TRAVIS_TOKEN</code>.  The first two just correspond to basic <code>git</code> configuration and are really just used to store the information of the person who make the commit in the <code>git</code> history.  Since it's actually Travis making the commit, I just define the variables as</p>
<div class="code"><pre class="code literal-block"><span class="n">GIT_NAME</span><span class="o">=</span><span class="ss">"Travis CI"</span>
<span class="n">GIT_EMAIL</span><span class="o">=</span><span class="n">travis</span><span class="o">-</span><span class="n">ci</span><span class="nv">@travis</span><span class="p">.</span><span class="n">org</span>
</pre></div>

<p>The environment variables can be set on the Travis setting page as shown</p>
<p><img src="files/settings.png"></p>
<p>then click on the environment variables tab and select "Add a new variable"</p>
<p><img src="files/env-variables.png"></p>
<p>while on the settings page, it is also useful to select "Build only if .travis.yml is present" this will prevent Travis from automatically attempting to build on repository branches that do not have a <code>.travis.yml</code> file, as is the case with the <code>travis-build</code> branch we created earlier.  These environment variables are stored encrypted on the Travis servers.</p>
<p><img src="files/build-only.png"></p>
<p>The other two environment variables, <code>GH_TOKEN</code> and <code>TRAVIS_TOKEN</code> are more critical as they allow the Travis the proper credentials to commit back to Github and to issue a new build of the website for which the CV will be included. The get a GitHub token, go to your GitHub settings page, click on Applications on the left-hand panel and then "Generate new token", give the token a name and copy or write down the token somewhere safely.  </p>
<p><img src="files/github-settings.png"></p>
<p><strong>This will be the only time you can actually see the token</strong> so make sure you have it copied somewhere.  You can use the same token form multiple Travis jobs, but you have to know what it is and cannot reveal it again later.  Use this token to set the <code>GH_TOKEN</code> environment variable back on the Travis site.  Finally, you can get a <code>TRAVIS_TOKEN</code> through the Ruby <a href="http://blog.travis-ci.com/2013-01-14-new-client/">Travis command line interface</a>.  If you have Ruby installed you can install Travis like any Ruby <code>gem</code> with</p>
<div class="code"><pre class="code literal-block">gem<span class="w"> </span>install<span class="w"> </span>travis
</pre></div>

<p>Then you can find your Travis access token with </p>
<div class="code"><pre class="code literal-block">travis<span class="w"> </span>token
</pre></div>

<p>copy the result and add the final environment variable into your Travis settings page just like the others before.  </p>
<h4>Upon a successful build, Travis pushes new PDF and HTML versions to a branch on the CV repo</h4>
<p><a name="push"></a></p>
<p>Now with the environment variables set, the last part of the <code>.travis.yml</code> file can be executed to publish the built PDF and HTML files to the <code>travis-build</code> branch.  </p>
<script src="http://gist-it.sudarmuthu.com/https://github.com/johntfoster/CV/blob/master/.travis.yml?slice=22:29&amp;footer=minimal"></script><p>This issues a <code>git commit</code> with a message that includes the current Travis build number via the default <code>${TRAVIS_BUILD_NUMBER}</code> environment variable. The <code>${GH_TOKEN}</code> environment variable establishes the ability to push back to <code>origin</code>, i.e. GitHub without an explicit login.</p>
<h4>Travis then triggers a rebuild of the professional website which is stored in it's own repo</h4>
<p><a name="trigger"></a></p>
<p>The trigger is what occurs in the last two lines of the <code>.travis.yml</code> file.  First we have to install the Travis command line client on Travis via Ruby <code>gem</code>.  We are ensured that Ruby is installed by specifying <code>language: ruby</code> in the first line of <code>.travis.yml</code>.  Then we execute the trigger.  The entry following the <code>-r</code> option specifies the GitHub repository to trigger a Travis rebuild on, in this case <code>johnfoster-pge-utexas/johnfoster-pge-utexas.github.io</code>.</p>
<script src="http://gist-it.sudarmuthu.com/https://github.com/johntfoster/CV/blob/master/.travis.yml?slice=30:32&amp;footer=minimal"></script><p>This completes the process of automatically having Travis build the CV and publishing back to GitHub.  The complete <code>.travis.yml</code> file is now shown</p>
<script src="http://gist-it.sudarmuthu.com/https://github.com/johntfoster/CV/blob/master/.travis.yml?footer=minimal"></script><p>Because of the need to install all of the large LaTeX dependencies into the Travis Ubuntu image before compiling, this whole process takes about 10 minute on Travis, a little long to just compile a simple LaTeX file, but if one needs a speedy deployment the steps can always be completed manually.  Hopefully, one day Travis will consider adding a LaTeX image to their pre-installed language images.  This would likely cut down the compile time to only a minute or two at most.</p>
<h4>Travis then rebuilds the professional website with Nikola and includes the new HTML CV as a page</h4>
<p><a name="rebuilds"></a></p>
<p>As mentioned earlier, I recently moved to the static site generator <a href="http://getnikola.com">Nikola</a>.  After many years using <a href="http://www.wordpress.com">Wordpress</a>,  I got tired of unnecessary database configurations (unnecessary because I mostly just had static pages) and the inability to edit posts in plain text.  After a little searching, and having a preference for a static blog site that was extendable through my favorite programming language Python, I narrowed it down to <a href="http://docs.getpelican.com/">Pelican</a> and <a href="http://getnikola.com">Nikola</a>.  I experimented with each of them and decided on Nikola because I felt like the codebase was a little easier to understand in the case I would want to extend it in some way, and did not have the <a href="http://sphinx-doc.org/">Sphinx</a> dependence that Pelican has.  There are several good tutorials on Nikola use, so I will not address this here; however, one nice feature of Nikola is that is has the ability to use the nascent <a href="http://johnmacfarlane.net/pandoc/">pandoc</a> as a document compiler.  Pandoc's Markdown is a superset of standard markdown and is quite a bit more flexible than standard Markdown allowing you to mix standard Markdown, LaTeX math, and raw HTML markup.  Nikola doesn't require pandoc, but I would like the ability to use it, so we first need to install it as a dependency.  Pandoc is written in Haskell, so it would require several steps and a lengthy install, thankfully the guys at <a href="http://www.rstudio.com/">RStudio</a> have a set of compiled binaries that will work when installed into Travis, these are what the first few lines of <code>.travis.yml</code> in the <a href="https://github.com/johnfoster-pge-utexas/johnfoster-pge-utexas.github.io/"><code>johnfoster-pge-utexas.github.io</code></a> repository are doing.</p>
<script src="http://gist-it.sudarmuthu.com/https://github.com/johnfoster-pge-utexas/johnfoster-pge-utexas.github.io/blob/master/.travis.yml?slice=0:9&amp;footer=minimal"></script><p>Nikola can be installed via <code>pip</code> in Python.  Because I also want to keep the option open to blog in IPython, there are also IPython and all the scientific Python stack dependencies that need to be installed.  To install all of these dependencies we use a <code>requirements.txt</code> file.</p>
<script src="http://gist-it.sudarmuthu.com/https://github.com/johnfoster-pge-utexas/johnfoster-pge-utexas.github.io/blob/master/.travis.yml?slice=11:13&amp;footer=minimal"></script><p>Then we can build the website</p>
<script src="http://gist-it.sudarmuthu.com/https://github.com/johnfoster-pge-utexas/johnfoster-pge-utexas.github.io/blob/master/.travis.yml?slice=13&amp;footer=minimal"></script><p>In order to get the PDF and HTML versions of the CV that was built and posted earlier to show as a page in this website, I use a ReStructured Text format document which Nikola can compile, using the raw html directive</p>
<div class="code"><pre class="code literal-block"><span class="p">..</span> <span class="ow">raw</span><span class="p">::</span> html
   <span class="nc">:url:</span> https://raw.githubusercontent.com/johntfoster/CV/travis-build/cv.html
</pre></div>

<p>which produces <a href="http://johnfoster.pge.utexas.edu/cv/">this page</a> when compiled by Nikola.</p>
<p>The last part of the <code>.travis.yml</code> is very similar to what was described previously for the CV, only now we push to a branch <code>gh-pages</code> because  we actually want GitHub to serve the website.  Details on using GitHub pages can be found <a href="https://pages.github.com/">here</a>.  The entire <code>.travis.yml</code> file is shown below.</p>
<script src="http://gist-it.sudarmuthu.com/https://github.com/johnfoster-pge-utexas/johnfoster-pge-utexas.github.io/blob/master/.travis.yml?footer=minimal"></script><p>After this file is run successfully by Travis, the website will be served on GitHub.  My site can be seen <a href="http://johnfoster.pge.utexas.edu/">here</a>.  The entire process from pushing a change on the CV, to the professional website being completely rebuilt and updated usually takes around 10-15 minutes.  Again, if there were ever a need to have an instant update, there is always the option to push the changes by hand.  Please feel free to use any or all of the tips/code presented in your own workflow.</p>
    </div>
    </article>
</div>
        <nav class="postindexpager"><ul class="pager">
<li class="previous">
                <a href="." rel="prev">Newer posts</a>
            </li>
        </ul></nav><script>var disqus_shortname="johntfoster";(function(){var a=document.createElement("script");a.async=true;a.src="https://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" integrity="sha384-3lJUsx1TJHt7BA4udB5KPnDrlkO8T6J6v/op7ui0BbCjvZ9WqV4Xm6DTP6kQ/iBH" crossorigin="anonymous"></script><script type="text/x-mathjax-config">
MathJax.Hub.Config({
 tex2jax: {
     inlineMath: [ ['$','$'], ["\\(","\\)"] ],
     displayMath: [ ['$$','$$'], ["\\[","\\]"] ]
 },
 displayAlign: 'left', // Change this to 'center' to center equations.
 "HTML-CSS": {
     styles: {'.MathJax_Display': {"margin": 0}}
 }
});
</script><footer id="footer"><p>Contents Â© 2023         <a href="mailto:johntfosterjr@gmail.com">John T. Foster</a>      <a rel="license" href="https://creativecommons.org/licenses/by/4.0/"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by/4.0/80x15.png"></a><br></p>
            
        </footer>
</div>
    </section><script src="assets/js/baguetteBox.min.js"></script><script src="assets/js/moment-with-locales.min.js"></script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(2, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
   m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
   })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

   ga('create', 'UA-25324596-7', 'auto');
   ga('send', 'pageview');
</script>
</body>
</html>
